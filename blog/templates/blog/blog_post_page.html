{% extends "base.html" %}

{% load static wagtailcore_tags wagtailimages_tags %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/blog_post_page.css' %}">
{% endblock %}

{% block content %}
<article class="post">
  <header class="post-header">
    <h1>{{ page.title }}</h1>
    <span class="post-date">{{ page.date }}</span>

    {% if page.authors.all %}
    <ul class="author-list">
      {% for author in page.authors.all %}
      <li>
        {% image author.author_image fill-48x48 class="author-img" %}
        <span>{{ author.name }}</span>
      </li>
      {% endfor %}
    </ul>
    {% endif %}
  </header>

  <section class="post-content">
    {{ page.intro|richtext }}
    {{ page.content|richtext }}
  </section>

  <section class="post-gallery">
    {% for image in page.image_gallery.all %}
    <figure>
      {% image image.image format-webp width-256 class="post-image" %}
      <figcaption>{{ image.caption }}</figcaption>
    </figure>
    {% endfor %}
  </section>

  <footer class="post-footer">
    <a href="{{ page.get_parent.url }}">‚Üê Kembali ke Blog</a>

    <div class="tag-list">
      {% for tag in page.tags.all %}
      <a href="{% slugurl 'tags' %}?tag={{ tag }}">{{ tag }}</a>
      {% endfor %}
    </div>
  </footer>
</article>
{% endblock content %}
